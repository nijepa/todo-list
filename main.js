!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);var n=function(){var e={allData:[{id:0,name:"Example project",desc:"Description of example project",todos:[]},{id:1,name:"Another example project",desc:"Project with some tasks",todos:[{id:0,title:"Example task",description:"Active task, medium priority",dueDate:"2020-02-09",priority:2,status:!1},{id:1,title:"Another example task",description:"Finished task, high priority",dueDate:"2020-02-06",priority:1,status:!0}]}]};function t(e,t,i){this.id=e,this.name=t,this.desc=i,this.todos=[]}function i(e,t,i,n,a,d){this.id=e,this.title=t,this.description=i,this.dueDate=n,this.priority=a,this.status=!1}var n=function(){localStorage.setItem("allData",JSON.stringify(e.allData))},a=function(t){return localStorage.getItem("allData")||n(),e.allData=JSON.parse(localStorage.getItem("allData")),e.allData};return{init:function(){console.log("App started");var e=a();if(0!==e.length)return e.sort((function(e,t){return e.id>t.id?-1:1}))},todoData:e,editProject:function(i,a,d){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(r){var o=new t(e.allData.length+1,a,d);return e.allData.push(o),n(),e.allData[e.allData.length-1]}var l=e.allData.findIndex((function(e){return e.id==i}));return e.allData[l].name=a,e.allData[l].desc=d,n(),e.allData[e.allData[l]]},deleteProject:function(t){var i=e.allData.map((function(e){return e.id})).indexOf(t);~i&&e.allData.splice(i,1),d.createProject(e.allData),n()},editTask:function(t,a,d,r,o,l,c){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";if(s){var u=e.allData.findIndex((function(e){return e.id==t})),p=new i(e.allData[u].todos.length+1,d,r,o,l,c);return e.allData[u].todos.push(p),n(),e.allData[u].todos[e.allData[u].todos.length-1]}var m=e.allData.findIndex((function(e){return e.id==t})),v=e.allData[m].todos.map((function(e){return e.id})),h=v.indexOf(a);return e.allData[m].todos[h].title=d,e.allData[m].todos[h].description=r,e.allData[m].todos[h].dueDate=o,e.allData[m].todos[h].status=c,e.allData[m].todos[h].priority=l,n(),e.allData[m].todos[h]},deleteTask:function(t,i){var a=e.allData.findIndex((function(e){return e.id==t})),d=e.allData[a].todos.map((function(e){return e.id})),r=d.indexOf(i);~d&&e.allData[a].todos.splice(r,1),n()},getStorage:a}}(),a=function(){document.querySelector(".container");var e=document.querySelector(".projects-list"),t=document.querySelector(".projects-container"),i=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementsByClassName("cont-projects");t[0];)t[0].parentNode.removeChild(t[0]);"del"==e&&a()},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("new"==e){var i=document.getElementById("el-new");i.parentNode.removeChild(i)}else if("del"==e){var n=document.getElementById("el"+t);n.parentNode.removeChild(n)}else if("editc"==e){var a=document.getElementById("el-edit"+t);a.parentNode.removeChild(a)}else{var d=document.getElementById("el-edit"+t);d.parentNode.removeChild(d);var r=document.getElementById("el"+t);r.parentNode.removeChild(r)}},a=function(){for(var e=document.getElementsByClassName("projects");e[0];)e[0].parentNode.removeChild(e[0])},r=function(){var e=document.querySelectorAll(".projects-det");[].forEach.call(e,(function(e){e.classList.remove("pro-det")}))},o=function(e,t,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",d=document.createElement(t);if("p"==t&&(d.textContent=n),"label"==t)d.htmlFor=i,d.innerHTML=n;else for(var r=0;r<i.length;r++)d.setAttribute(i[r],n[r]);d.classList.add("task-element"),i||(d.innerHTML=n),""!=a&&(d.textContent=a),e.appendChild(d)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e.status){"edit"==t&&(document.getElementById("open"+e.id).checked=!0);var i=document.getElementById("el"+e.id);i.style.textDecoration="line-through"}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"add"==t?document.getElementById("low"+e.id).checked=!0:1==e.priority?document.getElementById("high"+e.id).checked=!0:2==e.priority?document.getElementById("medium"+e.id).checked=!0:document.getElementById("low"+e.id).checked=!0};return{renderProject:function(i,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=document.createElement("div");""!==a?(l.setAttribute("class","cont-projects"),l.setAttribute("id","con"+i.id)):(l.setAttribute("class","projects"),l.setAttribute("id","pro"+i.id));var c=document.createElement("div");c.setAttribute("class","projects-det"),c.setAttribute("id","prodet"+i.id),o(c,"h3","","<span>Title : </span> ".concat(i.name)),o(c,"p","","<span>Description : </span> ".concat(i.desc));var s=document.querySelector("#new-project");s.addEventListener("click",(function(e){d.editProject("add")}));var u=document.createElement("div");if(u.setAttribute("class","project-btns"),a){var p=document.createElement("button");p.setAttribute("class","project-btn medium"),p.innerHTML='<i class="cap-icon ci-pencil"></i>';var m=document.createElement("button");m.setAttribute("class","project-btn low"),m.innerHTML="<i class='cap-icon ci-plus'></i>";var v=document.createElement("button");v.setAttribute("class","project-btn high"),v.innerHTML='<i class="cap-icon ci-trash"></i>',t.appendChild(l),u.appendChild(m),u.appendChild(p),u.appendChild(v),p.addEventListener("click",(function(e){d.editProject("edit",i,n)})),v.addEventListener("click",(function(e){d.delProject(i.id)})),m.addEventListener("click",(function(e){d.editTask("add",i)})),c.appendChild(u),l.appendChild(c);var h=document.createElement("div");h.setAttribute("id","contasks"+i.id),l.appendChild(h)}else e.appendChild(l),c.addEventListener("click",(function(e){d.selectedProject(i,n),r(),c.classList.add("pro-det")})),l.appendChild(c)},renderTask:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="";"edit"==i&&(t.id,t.title,t.description,t.dueDate,a=t.priority,t.status);var r=document.getElementById("con"+e),s=document.createElement("div");if(s.setAttribute("class","task"),i){var u=document.getElementById("el-edit"+t.id);if(u)return;s.setAttribute("id","el-edit"+t.id)}else{var p=document.getElementById("el-new");if(p)return;s.setAttribute("id","el-new")}1==t.priority?s.classList.add("low"):2==t.priority?s.classList.add("medium"):s.classList.add("high");var m=document.createElement("div");m.setAttribute("class","task-item"),o(m,"label","title","Title: "),o(m,"input",["type","placeholder","id","name","value"],["text","enter task title","title"+t.id,"title",t.title]),s.appendChild(m);var v=document.createElement("div");v.setAttribute("class","task-item"),o(v,"label","description","Description: "),o(v,"textarea",["placeholder","id","name","rows","cols"],["enter task description","description"+t.id,"description",3,15],t.description),s.appendChild(v);var h=document.createElement("div");h.setAttribute("class","task-item"),o(h,"label","dueDate","Due Date: "),o(h,"input",["type","placeholder","id","name","value"],["date","enter task date","dueDate"+t.id,"dueDate",t.dueDate]),s.appendChild(h);var f=document.createElement("div");f.setAttribute("class","task-item-radio"),o(f,"p","","Priority: "),o(f,"input",["type","placeholder","id","name","value"],["radio","enter task title","high"+t.id,"priority"+t.id,"low"]),o(f,"label","high"+t.id," Low"),o(f,"input",["type","placeholder","id","name","value"],["radio","enter task title","medium"+t.id,"priority"+t.id,"medium"]),o(f,"label","medium"+t.id," Medium"),o(f,"input",["type","placeholder","id","name","value"],["radio","enter task title","low"+t.id,"priority"+t.id,"high"]),o(f,"label","low"+t.id," High"),s.appendChild(f);var g=document.createElement("div");g.setAttribute("class","task-item-radio"),o(g,"p","","Finished: "),o(g,"input",["type","placeholder","id","name","value"],["checkbox","enter task title","open"+t.id,"status"+t.id,"open"]),s.appendChild(g);var b=document.createElement("div");b.setAttribute("class","project-btns");var E=document.createElement("button");E.setAttribute("class","project-btn low"),E.innerHTML="<i class='cap-icon ci-save'></i>";var k=document.createElement("button");k.setAttribute("class","project-btn high"),k.innerHTML="<i class='cap-icon ci-times'></i>",b.appendChild(E),b.appendChild(k),s.appendChild(b),k.addEventListener("click",(function(e){n("edit"==i?"editc":"new","-",t.id)})),E.addEventListener("click",(function(n){var a=t.id,r=document.getElementById("title"+t.id);r=r.value;var o=document.getElementById("description"+t.id);o=o.value;var l=document.getElementById("dueDate"+t.id);l=l.value;var c=D,s=y;"undefined"!=r&&("edit"==i?d.updateTask(e,a,r,o,l,c,s,"",t):d.updateTask(e,a,r,o,l,c,s,"add"))})),r.appendChild(s),l(t,"edit"),c(t);var y=!1,j=document.getElementById("open"+t.id);j.addEventListener("click",(function(e){l(t),y=j.checked}));var D=1;"edit"==i&&(D=a);var T=document.getElementById("high"+t.id);T.addEventListener("click",(function(e){D=1}));var A=document.getElementById("medium"+t.id);A.addEventListener("click",(function(e){D=2}));var C=document.getElementById("low"+t.id);C.addEventListener("click",(function(e){D=3}))},renderTasks:function(e,t){var i=document.getElementById("contasks"+e),n=document.createElement("div");n.setAttribute("class","tasks"),n.setAttribute("id","el"+t.id),1==t.priority?n.classList.add("low"):2==t.priority?n.classList.add("medium"):n.classList.add("high"),o(n,"input",["type","placeholder","id","name","value"],["checkbox","","status"+t.id,"status",t.status]),o(n,"h3","","<span> </span> ".concat(t.title));var a=document.createElement("div");a.setAttribute("class","project-btns");var r=document.createElement("button");r.setAttribute("class","project-btn medium"),r.innerHTML="<i class='cap-icon ci-pencil'></i>";var c=document.createElement("button");c.setAttribute("class","project-btn high"),c.innerHTML='<i class="cap-icon ci-trash"></i>',i.appendChild(n),a.appendChild(r),a.appendChild(c),n.appendChild(a),t.status&&(document.getElementById("status"+t.id).checked=!0),r.addEventListener("click",(function(i){d.editTask("edit",e,t)})),c.addEventListener("click",(function(i){d.delTask("del",e,t.id)})),l(t),document.getElementById("status"+t.id).addEventListener("click",(function(e){l(t)}))},removeProjects:i,renderEditProject:function(e,n,a){var r="",l="",c="";"edit"==e&&(r=n.id,l=n.name,c=n.desc);var s=document.createElement("div");s.setAttribute("class","cont-projects"),s.setAttribute("id",r),t.appendChild(s);var u=document.createElement("div");u.setAttribute("class","task-item"),o(u,"label","title","Title: "),o(u,"input",["type","placeholder","id","name","value"],["text","enter project title","name"+r,"title",l]),s.appendChild(u);var p=document.createElement("div");p.setAttribute("class","task-item"),o(p,"label","description","Description: "),o(p,"textarea",["placeholder","id","name","rows","cols"],["enter project description","desc"+r,"description",3,25],c),s.appendChild(p);var m=document.createElement("div");m.setAttribute("class","project-btns");var v=document.createElement("button");v.setAttribute("class","project-btn low"),v.innerHTML="<i class='cap-icon ci-save'></i>";var h=document.createElement("button");h.setAttribute("class","project-btn high"),h.innerHTML="<i class='cap-icon ci-times'></i>",m.appendChild(v),m.appendChild(h),s.appendChild(m),h.addEventListener("click",(function(e){d.selectedProject(n,a,"add"),i()})),v.addEventListener("click",(function(t){var i=s.id,r=document.getElementById("name"+s.id);r=r.value;var o=document.getElementById("desc"+s.id);o=o.value,d.editProject(i,r,o),"edit"==e?d.updateProject(i,r,o,"",n,a):d.updateProject(i,r,o,"add")}))},removeTask:n,clearList:a}}(),d=function(){var e=function(e,t){for(var i=0;i<e.length;i++){e.map((function(e){return e.id}));a.renderProject(e[i])}};function t(t,d){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a.removeProjects(),a.renderProject(t,d,"selected"),r?(a.clearList(),e(n.todoData.allData.sort((function(e,t){return e.id>t.id?-1:1})))):""!==d&&i(t.id,t.todos)}var i=function(e,t){for(var i=0;i<t.length;i++)a.renderTasks(e,t[i])};return{createProject:e,createTask:i,selectedProject:t,editProject:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";a.removeProjects(),a.renderEditProject(e,t,i)},delProject:function(e){a.removeProjects("del"),n.deleteProject(e)},updateProject:function(e,i,a){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(""==d)n.editProject(e,i,a),t(r,o,"edit");else{var l=n.editProject(e,i,a,"add");t(l,"","add")}},editTask:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"edit"==e?a.renderTask(t,i,"edit"):a.renderTask(t.id,t.todos)},updateTask:function(e,t,i,d,r,o,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";if(""==c){var s=n.editTask(e,t,i,d,r,o,l);a.removeTask("edit","-",t),a.renderTasks(e,s)}else{var u=n.editTask(e,t,i,d,r,o,l,"add");a.removeTask("new","-"),a.renderTasks(e,u)}},delTask:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;a.removeTask("del","",t),n.deleteTask(e,t)}}}();d.createProject(n.init())}]);